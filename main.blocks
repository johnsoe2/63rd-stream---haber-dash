<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable type="KIND_StatusBarKind" id="QzYOY9IJM0`vE;*(4LG!">Health</variable><variable type="KIND_StatusBarKind" id="];F_n#Y:ujfYZcEFvO5Z">Energy</variable><variable type="KIND_StatusBarKind" id="b5i|9%-lO%bv4pCY+Gj}">Magic</variable><variable type="KIND_StatusBarKind" id="|4W6kc{lB*,IiU-)n1a5">EnemyHealth</variable><variable type="KIND_SpriteKind" id="S1}q8PHnF:f.[/!]TmGU">Player</variable><variable type="KIND_SpriteKind" id="jM5Ni0YJo3GQ]RNV8I3T">Projectile</variable><variable type="KIND_SpriteKind" id="Ls7j$7*x+kS0L_nAm?~!">Food</variable><variable type="KIND_SpriteKind" id="ewiI[TP8rze8DRe16gYp">Enemy</variable><variable type="KIND_SpriteKind" id="JtcIZ_xjLGCG}#}^dj@]">Text</variable><variable type="KIND_SpriteKind" id="-E1V.`Z#g@3?)WWI0=#Z">StatusBar</variable><variable type="KIND_SpriteKind" id="pCi6$L0P}U7m)W-8V$NF">Hat</variable><variable type="KIND_SpriteKind" id="5jFT9geGR:G:5Zu#:TDT">Label</variable><variable id="Cf3,cfn@E4(;#ONE@`nB">products</variable><variable id="AiU=cR^8rnX,xNt[,rh,">index</variable><variable id="|dg803T,OG_nvSfFVGV|">productPrices</variable><variable id="_mk)/;jQx#VD6bJrqXr{">productLabel</variable><variable id="qZ7k1N.YugP@w1B^5zEP">mySprite</variable><variable id="{7fTPg{rbtoIzFy-{u](">productPrice</variable><variable id="7p3qloU5pMCI=Y0#eLqq">hatLabel</variable><variable id="s$L!@ymB6tLDMOMkJ^z}">shopSelection</variable><variable id="8iCcI:dv=/0/(LHP2gZs">shopIsOpen</variable><variable id="vnK[pd~Ea0pmKl=o@6~T">list</variable><variable id="N%RcjJlE*|wIKGh-6GT5">selectionBackground</variable><variable id="X3=6cS)|]2dF![NknF$=">picture</variable><variable id="-j|H!w~r)??OPXkI2=hr">shopTop</variable><variable id="pE2ui3@}IaZ)-!TC/)l^">value</variable><variable id="wT{C#9;]wNlR,zC-xPI.">sprite list</variable><variable id="$gjgKL~(@go(Q!z(VkoQ">statusbar</variable><variable id="jVnSFjIjkE/[ENt43[ub">newHat</variable><variable id="f5)qL/LxnmW_WJF:tQiq">lastHatX</variable><variable id="J{{26|i:?V/$*x~,x+dM">lastHatY</variable><variable id="uz|]+`94R3C#QyGI:kuA">showKinds</variable><variable id="2xzND*WP?3(Lqp@EvJcm">productQuantities</variable><variable id="x9wl;Ts!Gu^wC1k?1Z]q">sprite list2</variable><variable id="Rvu`%3QYC0/l1iV6bYw5">item</variable><variable id="I9{]kQ-ePv/?pF|q.0~k">hatPath</variable><variable type="BLOCKLY_TILESET_TYPE" id="LtoaBluZpy9`q+P}$z:_">0;16;16;0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000</variable><variable type="BLOCKLY_TILESET_TYPE" id="9lPB@,mg!@C@d]#Ymr9^">1;16;16;00000000000000000000000000000000cccccccccccccccccbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcbcccccccccccccccc00000000000000000000000000000000</variable><variable type="BLOCKLY_TILESET_TYPE" id="Hr2[fK6e!l2q2+AB=P1}">2;16;16;00000000000000000000000000000000c0ccccccccccccccc0cbcbcbcbcbcbcbc0cbcbcbcbcbcbcbc0cbcbcbcbcbcbcbc0cbcbcbcbcbcbcbc0cbcbcbcbcbcbcbc0cbcbcbcbcbcbcbc0cbcbcbcbcbcbcbc0cbcbcbcbcbcbcbc0cbcbcbcbcbcbcbc0cbcbcbcbcbcbcbc0cccccccccccccc00000000000000000000000000000000</variable><variable type="BLOCKLY_TILESET_TYPE" id="?ZrlaR2e#oLs?Aod/gW-">3;16;16;00000000000000000000000000000000cccc3333c3cccc00bc3ccbcb3bcbcb00bcc3cbcbcbcbcb003ccc333333cbcb00b3ccc3cbcbc3cb00b3cc3bcbcbc3cb00b3cc3bcb333bcb003ccccb33cb3bcb003ccccbcbcb3bcb00bcc3cbcbcbc3cb00bcc3cb3b33cbcb00cc3c33c3cccccc0000bcbbbbbbbbcb0000cccccccccccc00</variable><variable type="BLOCKLY_TILESET_TYPE" id="^RZwWF[#j%Koi@t7Nm)!">4;16;16;00000000000000000000000000000000cccccccccccccc00bccccbcbcbcbcb00bccccbcbcbcbcb00bccccbcbcbcbcb00bccccbcbcbcbcb00bccccbcbcbcbcb00bccccbcbcbcbcb00bccccbcbcbcbcb00bccccbcbcbcbcb00bccccbcbcbcbcb00bccccbcbcbcbcb00cccccccccccccc0000bcbbbbbbbbcb0000cccccccccccc00</variable><variable type="BLOCKLY_TILESET_TYPE" id="Y#u*D?(q(R2s/r`k8gC:">5;16;16;00bcbbbbbbbbcb0000cccccccccccc0000bcbbbbbbbbcb0000cccccccccccc0000bcbbbbbbbbcb0000cccccccccccc0000bcbbbbbbbbcb0000cccccccccccc0000bcbbbbbbbbcb0000cccccccccccc0000bcbbbbbbbbcb0000cccccccccccc0000bcbbbbbbbbcb0000cccccccccccc0000bcbbbbbbbbcb0000cccccccccccc00</variable><variable type="BLOCKLY_TILESET_TYPE" id="Cikel1$gww*1.I,}#jlz">6;16;16;00cccccccccccc0000bcbbbbbbbbcb00cccccccccccccc00bccccbcbcbcbcb00bccccbcbcbcbcb00bccccbcbcbcbcb00bccccbcbcbcbcb00bccccbcbcbcbcb00bccccbcbcbcbcb00bccccbcbcbcbcb00bccccbcbcbcbcb00bccccbcbcbcbcb00bccccbcbcbcbcb00cccccccccccccc0000000000000000000000000000000000</variable><variable type="BLOCKLY_TILESET_TYPE" id="T^EhW_nzirYm5,qFM$`I">7;16;16;00cccccccccccc0000bcbbbbbbbbcb0000cccccccccccccc00cccbcbcbcbcbcb00cccbcbcbcbcbcb00cccbcbcbcbcbcb00cccbcbcbcbcbcb00cccbcbcbcbcbcb00cccbcbcbcbcbcb00cccbcbcbcbcbcb00cccbcbcbcbcbcb00cccbcbcbcbcbcb00cccbcbcbcbcbcb00cccccccccccccc00000000000000000000000000000000</variable><variable type="BLOCKLY_TILESET_TYPE" id="@K*+;aW(m8?a1r71nhEn">8;16;16;0000000000000000000000000000000000cccccccccccccc00cccbcbcbcbcbcb00cccbcbcbcbcbcb00cccbcbcbcbcbcb00cccbcbcbcbcbcb00cccbcbcbcbcbcb00cccbcbcbcbcbcb00cccbcbcbcbcbcb00cccbcbcbcbcbcb00cccbcbcbcbcbcb00cccbcbcbcbcbcb00cccccccccccccc00bcbbbbbbbbcb0000cccccccccccc00</variable></variables><comment x="1646" y="977" h="208" w="342">Paper hat fold-a-tron
Haberdasher-9000
Ribbon twirler X</comment><block type="function_definition" x="0" y="40"><mutation name="createLabels" functionid="9fOmph[yR5Vf%b05AfTo"/><field name="function_name">createLabels</field><statement name="STACK"><block type="pxt_controls_for_of"><value name="VAR"><shadow type="variables_get_reporter"><field name="VAR" id="pE2ui3@}IaZ)-!TC/)l^">value</field></shadow></value><value name="LIST"><shadow type="variables_get"><field name="VAR" id="vnK[pd~Ea0pmKl=o@6~T">list</field></shadow><block type="allOfKind"><value name="kind"><shadow type="spritekind"><field name="MEMBER">Label</field></shadow></value></block></value><statement name="DO"><block type="spritedestroy"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="false"></mutation><value name="sprite"><block type="variables_get"><field name="VAR" id="pE2ui3@}IaZ)-!TC/)l^">value</field></block></value></block></statement><next><block type="pxt_controls_for"><value name="VAR"><shadow type="variables_get_reporter"><field name="VAR" id="AiU=cR^8rnX,xNt[,rh,">index</field></shadow></value><value name="TO"><shadow type="math_whole_number"><field name="NUM">4</field></shadow><block type="math_arithmetic"><field name="OP">MINUS</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_length"><value name="VALUE"><block type="variables_get"><field name="VAR" id="vnK[pd~Ea0pmKl=o@6~T">list</field></block></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">2</field></shadow></value></block></value><statement name="DO"><block type="variables_set"><field name="VAR" id="7p3qloU5pMCI=Y0#eLqq">hatLabel</field><value name="VALUE"><shadow xmlns="http://www.w3.org/1999/xhtml" type="math_number"><field name="NUM">0</field></shadow><block type="textsprite_create"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="text"><shadow type="text"><field name="TEXT"/></shadow><block type="text_join"><mutation items="1"/><value name="ADD0"><shadow type="text"><field name="TEXT">Hello</field></shadow><block type="lists_index_get"><value name="LIST"><block type="variables_get"><field name="VAR" id="2xzND*WP?3(Lqp@EvJcm">productQuantities</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get"><field name="VAR" id="AiU=cR^8rnX,xNt[,rh,">index</field></block></value></block></value></block></value><value name="fg"><shadow type="colorindexpicker"><field name="index">1</field></shadow></value><value name="bg"><shadow type="colorindexpicker"><field name="index">0</field></shadow></value></block></value><next><block type="TextSprite_setIcon"><value name="this"><block type="variables_get"><field name="VAR" id="7p3qloU5pMCI=Y0#eLqq">hatLabel</field></block></value><value name="icon"><shadow type="screen_image_picker"><field name="img">img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`</field></shadow><block type="lists_index_get"><value name="LIST"><block type="variables_get"><field name="VAR" id="vnK[pd~Ea0pmKl=o@6~T">list</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic"><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get"><field name="VAR" id="AiU=cR^8rnX,xNt[,rh,">index</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block></value></block></value><next><block type="TextSprite_setMaxFontHeight"><value name="this"><block type="variables_get"><field name="VAR" id="7p3qloU5pMCI=Y0#eLqq">hatLabel</field></block></value><value name="height"><shadow type="math_number"><field name="NUM">8</field></shadow></value><next><block type="Sprite_blockCombine_set"><field name="property">Sprite.y@set</field><value name="mySprite"><block type="variables_get"><field name="VAR" id="7p3qloU5pMCI=Y0#eLqq">hatLabel</field></block></value><value name="value"><shadow type="math_number"><field name="NUM">8</field></shadow></value><next><block type="Sprite_blockCombine_set"><field name="property">Sprite.left@set</field><value name="mySprite"><block type="variables_get"><field name="VAR" id="7p3qloU5pMCI=Y0#eLqq">hatLabel</field></block></value><value name="value"><shadow type="math_number"><field name="NUM">8</field></shadow><block type="math_arithmetic"><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get"><field name="VAR" id="AiU=cR^8rnX,xNt[,rh,">index</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">24</field></shadow></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">2</field></shadow></value></block></value><next><block type="spritesetkind"><value name="sprite"><block type="variables_get"><field name="VAR" id="7p3qloU5pMCI=Y0#eLqq">hatLabel</field></block></value><value name="kind"><shadow type="spritekind"><field name="MEMBER">Label</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></statement></block><block type="pxt-on-start" x="980" y="0"><statement name="HANDLER"><block type="variables_set"><field name="VAR" id="Cf3,cfn@E4(;#ONE@`nB">products</field><value name="VALUE"><block type="lists_create_with"><mutation items="3"/><value name="ADD0"><block type="text"><field name="TEXT">FOLD-A-TRON</field></block></value><value name="ADD1"><block type="text"><field name="TEXT">HABERDASHER-9000</field></block></value><value name="ADD2"><block type="text"><field name="TEXT">RIBBON-TWIRLER X</field></block></value></block></value><next><block type="variables_set"><field name="VAR" id="|dg803T,OG_nvSfFVGV|">productPrices</field><value name="VALUE"><block type="lists_create_with"><mutation items="3"/><value name="ADD0"><shadow type="math_number"><field name="NUM">50</field></shadow></value><value name="ADD1"><shadow type="math_number"><field name="NUM">100</field></shadow></value><value name="ADD2"><shadow type="math_number"><field name="NUM">200</field></shadow></value></block></value><next><block type="variables_set"><field name="VAR" id="2xzND*WP?3(Lqp@EvJcm">productQuantities</field><value name="VALUE"><block type="lists_create_with"><mutation items="3"/><value name="ADD0"><shadow type="math_number"><field name="NUM">0</field></shadow></value><value name="ADD1"><shadow type="math_number"><field name="NUM">0</field></shadow></value><value name="ADD2"><shadow type="math_number"><field name="NUM">0</field></shadow></value></block></value><next><block type="variables_set"><field name="VAR" id="vnK[pd~Ea0pmKl=o@6~T">list</field><value name="VALUE"><block type="lists_create_with"><mutation items="4"/><value name="ADD0"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="screen_image_picker"><field name="img">img`
. . . . . . . . . . . . . 
. . 6 6 6 6 6 6 6 . . . . 
. 6 6 6 6 6 6 6 6 6 . . . 
6 6 6 6 6 6 6 6 1 1 1 . . 
6 6 6 6 6 6 6 6 1 1 1 . . 
6 6 6 6 6 6 6 6 1 1 1 . . 
b 6 6 6 6 6 6 6 1 1 1 . . 
6 6 6 6 6 6 6 6 6 6 6 6 6 
`</field></block></value><value name="ADD1"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="screen_image_picker"><field name="img">img`
. . . . . . b . . . . . . 
. . . . . b 1 b . . . . . 
. . . . b 1 1 1 b . . . . 
. . . b 1 1 1 1 1 b . . . 
b b b b b b b b b b b b b 
b 1 1 1 1 1 1 1 1 1 1 1 b 
. b 1 1 1 1 1 1 1 1 1 b . 
. . b b b b b b b b b . . 
`</field></block></value><value name="ADD2"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="screen_image_picker"><field name="img">img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . c c c c c c . . . . . 
. . . . . c f f f f c . . . . . 
. . . . . c f f f f c . . . . . 
. . . . . c f f f f c . . . . . 
. . . . . c f f f f c . . . . . 
. . . . . c f f f f c . . . . . 
. . . . . c f f f f c . . . . . 
. . . c c c 1 5 5 1 c c c . . . 
. . c f f c f f f f c f f c . . 
. . c f f f f f f f f f f c . . 
. . . c c c c c c c c c c . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`</field></block></value><value name="ADD3"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="screen_image_picker"><field name="img">img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . 5 5 5 5 5 5 5 . . . . . 
. . . 5 5 5 5 5 5 5 5 5 . . . . 
. . 5 5 5 5 5 5 5 5 5 5 5 . . . 
. . 5 5 5 5 5 5 5 5 5 5 5 . . . 
. . 5 5 5 5 5 5 5 5 5 5 5 . . . 
. 5 2 2 2 2 2 2 2 2 2 2 2 5 . . 
5 5 5 5 5 5 5 5 5 5 5 5 2 5 5 . 
. 5 5 5 5 5 5 5 5 5 5 5 5 5 . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`</field></block></value></block></value><next><block type="gamesetbackgroundcolor"><value name="color"><shadow type="colorindexpicker"><field name="index">13</field></shadow></value><next><block type="tilemap_editor"><field name="tilemap">tiles.createTilemap(
            hex`0b00080000000000000000000000000000000000000000000000000201010101010104000000000000000000000500000008010101010101060000000500000000000000000000070101010101010101030000000000000000000000`,
            img`
2 2 2 2 2 2 2 2 2 2 2 
2 2 2 2 2 2 2 2 2 2 2 
2 . . . . . . . . 2 2 
2 2 2 2 2 2 2 2 . 2 2 
2 . . . . . . . . 2 2 
2 . 2 2 2 2 2 2 2 2 2 
2 . . . . . . . . . . 
2 2 2 2 2 2 2 2 2 2 2 
`,
            [myTiles.tile0,myTiles.tile1,myTiles.tile2,myTiles.tile3,myTiles.tile4,myTiles.tile5,myTiles.tile6,myTiles.tile7,myTiles.tile8],
            TileScale.Sixteen
        )</field><next><block type="variables_set"><field name="VAR" id="$gjgKL~(@go(Q!z(VkoQ">statusbar</field><value name="VALUE"><shadow xmlns="http://www.w3.org/1999/xhtml" type="math_number"><field name="NUM">0</field></shadow><block type="statusbars_create"><value name="width"><shadow type="math_number"><field name="NUM">140</field></shadow></value><value name="height"><shadow type="math_number"><field name="NUM">8</field></shadow></value><value name="kind"><shadow type="statusbars_kind"><field name="MEMBER">Magic</field></shadow></value></block></value><next><block type="Sprite_blockCombine_set"><field name="property">Sprite.top@set</field><value name="mySprite"><block type="variables_get"><field name="VAR" id="$gjgKL~(@go(Q!z(VkoQ">statusbar</field></block></value><value name="value"><shadow type="math_number"><field name="NUM">15</field></shadow></value><next><block type="statusbars_setFlag"><field name="flag">StatusBarFlag.SmoothTransition</field><value name="this"><block type="variables_get"><field name="VAR" id="$gjgKL~(@go(Q!z(VkoQ">statusbar</field></block></value><value name="on"><shadow type="toggleOnOff"><field name="on">false</field></shadow></value><next><block type="statusbars_setBorder"><value name="this"><block type="variables_get"><field name="VAR" id="$gjgKL~(@go(Q!z(VkoQ">statusbar</field></block></value><value name="borderWidth"><shadow type="math_number"><field name="NUM">1</field></shadow></value><value name="color"><shadow type="colorindexpicker"><field name="index">11</field></shadow></value><next><block type="StatusBarSprite_blockCombine_set"><field name="property">StatusBarSprite.value@set</field><value name="statusbar"><block type="variables_get"><field name="VAR" id="$gjgKL~(@go(Q!z(VkoQ">statusbar</field></block></value><value name="value"><shadow type="math_number"><field name="NUM">0</field></shadow></value><next><block type="variables_set"><field name="VAR" id="f5)qL/LxnmW_WJF:tQiq">lastHatX</field><value name="VALUE"><shadow type="math_number"><field name="NUM">10</field></shadow></value><next><block type="variables_set"><field name="VAR" id="J{{26|i:?V/$*x~,x+dM">lastHatY</field><value name="VALUE"><shadow type="math_number"><field name="NUM">30</field></shadow></value><next><block type="hudsetScore"><value name="value"><shadow type="math_number"><field name="NUM">0</field></shadow></value><next><block type="function_call"><mutation name="createLabels" functionid="9fOmph[yR5Vf%b05AfTo"/><next><block type="variables_set"><field name="VAR" id="I9{]kQ-ePv/?pF|q.0~k">hatPath</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="scene_aStar"><value name="start"><shadow type="mapgettile"><value name="col"><shadow type="math_number"><field name="NUM">1</field></shadow></value><value name="row"><shadow type="math_number"><field name="NUM">2</field></shadow></value></shadow></value><value name="end"><shadow type="mapgettile"><value name="col"><shadow type="math_number"><field name="NUM">10</field></shadow></value><value name="row"><shadow type="math_number"><field name="NUM">6</field></shadow></value></shadow></value></block></value><next><block type="game_show_long_text"><field name="layout">DialogLayout.Bottom</field><value name="str"><shadow type="text"><field name="TEXT">Welcome to the Hat Factory. Press A for HAT. Press B for BUY ROBOT.</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" x="2070" y="406"><mutation name="showHideHats" functionid="O,}l!YH1ATK0NYBO+%TY"><arg name="show" id="bxuVwShCmMV2S?*2{zv`" type="boolean"/></mutation><field name="function_name">showHideHats</field><value name="bxuVwShCmMV2S?*2{zv`"><shadow type="argument_reporter_boolean"><field name="VALUE">show</field></shadow></value><statement name="STACK"><block type="variables_set"><field name="VAR" id="uz|]+`94R3C#QyGI:kuA">showKinds</field><value name="VALUE"><block type="lists_create_with"><mutation items="2"/><value name="ADD0"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="spritekind"><field name="MEMBER">StatusBar</field></block></value><value name="ADD1"><shadow type="math_number"><field name="NUM">1</field></shadow><block type="spritekind"><field name="MEMBER">Hat</field></block></value></block></value><next><block type="pxt_controls_for_of"><value name="VAR"><shadow type="variables_get_reporter"><field name="VAR" id="pE2ui3@}IaZ)-!TC/)l^">value</field></shadow></value><value name="LIST"><shadow type="variables_get"><field name="VAR" id="uz|]+`94R3C#QyGI:kuA">showKinds</field></shadow></value><statement name="DO"><block type="variables_set"><field name="VAR" id="wT{C#9;]wNlR,zC-xPI.">sprite list</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="allOfKind"><value name="kind"><shadow type="spritekind"><field name="MEMBER">Hat</field></shadow><block type="variables_get"><field name="VAR" id="pE2ui3@}IaZ)-!TC/)l^">value</field></block></value></block></value><next><block type="pxt_controls_for_of"><value name="VAR"><shadow type="variables_get_reporter"><field name="VAR" id="pE2ui3@}IaZ)-!TC/)l^">value</field></shadow></value><value name="LIST"><shadow type="variables_get"><field name="VAR" id="wT{C#9;]wNlR,zC-xPI.">sprite list</field></shadow></value><statement name="DO"><block type="spritesetsetflag"><field name="flag">SpriteFlag.Invisible</field><value name="sprite"><block type="variables_get"><field name="VAR" id="pE2ui3@}IaZ)-!TC/)l^">value</field></block></value><value name="on"><shadow type="toggleOnOff"><field name="on">false</field></shadow><block type="logic_negate"><value name="BOOL"><block type="argument_reporter_boolean"><field name="VALUE">show</field></block></value></block></value></block></statement></block></next></block></statement></block></next></block></statement></block><block type="function_definition" x="800" y="1160"><mutation name="openShop" functionid="n{@I~ZQ9]I6+R=H]CH/#"/><field name="function_name">openShop</field><statement name="STACK"><block type="tilemap_editor"><field name="tilemap">tiles.createTilemap(
            hex`0b00080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000`,
            img`
. . . . . . . . . . . 
. . . . . . . . . . . 
. . . . . . . . . . . 
. . . . . . . . . . . 
. . . . . . . . . . . 
. . . . . . . . . . . 
. . . . . . . . . . . 
. . . . . . . . . . . 
`,
            [myTiles.tile0,myTiles.tile1,myTiles.tile2,myTiles.tile3,myTiles.tile4,myTiles.tile5,myTiles.tile6,myTiles.tile7,myTiles.tile8],
            TileScale.Sixteen
        )</field><next><block type="function_call"><mutation name="showHideHats" functionid="O,}l!YH1ATK0NYBO+%TY"><arg name="show" id="bxuVwShCmMV2S?*2{zv`" type="boolean"/></mutation><value name="bxuVwShCmMV2S?*2{zv`"><shadow type="logic_boolean"><field name="BOOL">FALSE</field></shadow></value><next><block type="variables_set"><field name="VAR" id="8iCcI:dv=/0/(LHP2gZs">shopIsOpen</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_boolean"><field name="BOOL">TRUE</field></block></value><next><block type="variables_set"><field name="VAR" id="s$L!@ymB6tLDMOMkJ^z}">shopSelection</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow></value><next><block type="variables_set"><field name="VAR" id="-j|H!w~r)??OPXkI2=hr">shopTop</field><value name="VALUE"><shadow type="math_number"><field name="NUM">20</field></shadow></value><next><block type="pxt_controls_for"><value name="VAR"><shadow type="variables_get_reporter"><field name="VAR" id="AiU=cR^8rnX,xNt[,rh,">index</field></shadow></value><value name="TO"><shadow type="math_whole_number"><field name="NUM">4</field></shadow><block type="math_arithmetic"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" disabled="true"><field name="NUM">0</field></shadow><block type="lists_length"><value name="VALUE"><block type="variables_get"><field name="VAR" id="Cf3,cfn@E4(;#ONE@`nB">products</field></block></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block></value><statement name="DO"><block type="variables_set"><field name="VAR" id="_mk)/;jQx#VD6bJrqXr{">productLabel</field><value name="VALUE"><shadow xmlns="http://www.w3.org/1999/xhtml" type="math_number"><field name="NUM">0</field></shadow><block type="textsprite_create"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="2" _input_init="true"></mutation><value name="text"><shadow type="text"><field name="TEXT"/></shadow><block type="lists_index_get"><value name="LIST"><block type="variables_get"><field name="VAR" id="Cf3,cfn@E4(;#ONE@`nB">products</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get"><field name="VAR" id="AiU=cR^8rnX,xNt[,rh,">index</field></block></value></block></value><value name="fg"><shadow type="colorindexpicker"><field name="index">15</field></shadow></value><value name="bg"><shadow type="colorindexpicker"><field name="index">0</field></shadow></value></block></value><next><block type="TextSprite_setMaxFontHeight"><value name="this"><block type="variables_get"><field name="VAR" id="_mk)/;jQx#VD6bJrqXr{">productLabel</field></block></value><value name="height"><shadow type="math_number"><field name="NUM">8</field></shadow></value><next><block type="Sprite_blockCombine_set"><field name="property">Sprite.left@set</field><value name="mySprite"><block type="variables_get"><field name="VAR" id="_mk)/;jQx#VD6bJrqXr{">productLabel</field></block></value><value name="value"><shadow type="math_number"><field name="NUM">10</field></shadow></value><next><block type="Sprite_blockCombine_set"><field name="property">Sprite.y@set</field><value name="mySprite"><block type="variables_get"><field name="VAR" id="_mk)/;jQx#VD6bJrqXr{">productLabel</field></block></value><value name="value"><shadow type="math_number"><field name="NUM">10</field></shadow><block type="math_arithmetic"><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">10</field></shadow><block type="variables_get"><field name="VAR" id="-j|H!w~r)??OPXkI2=hr">shopTop</field></block></value><value name="B"><shadow type="math_number" disabled="true"><field name="NUM">0</field></shadow><block type="math_arithmetic"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" disabled="true"><field name="NUM">0</field></shadow><block type="variables_get"><field name="VAR" id="AiU=cR^8rnX,xNt[,rh,">index</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">10</field></shadow></value></block></value></block></value><next><block type="Sprite_blockCombine_set"><field name="property">Sprite.z</field><value name="mySprite"><block type="variables_get"><field name="VAR" id="_mk)/;jQx#VD6bJrqXr{">productLabel</field></block></value><value name="value"><shadow type="math_number"><field name="NUM">5</field></shadow></value><next><block type="variables_set"><field name="VAR" id="{7fTPg{rbtoIzFy-{u](">productPrice</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="textsprite_create"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="2" _input_init="true"></mutation><value name="text"><shadow type="text"><field name="TEXT"/></shadow><block type="text_join"><mutation items="2"/><value name="ADD0"><shadow type="text"><field name="TEXT">$</field></shadow></value><value name="ADD1"><shadow type="text"><field name="TEXT">$</field></shadow><block type="lists_index_get"><value name="LIST"><block type="variables_get"><field name="VAR" id="|dg803T,OG_nvSfFVGV|">productPrices</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get"><field name="VAR" id="AiU=cR^8rnX,xNt[,rh,">index</field></block></value></block></value></block></value><value name="fg"><shadow type="colorindexpicker"><field name="index">15</field></shadow></value><value name="bg"><shadow type="colorindexpicker"><field name="index">0</field></shadow></value></block></value><next><block type="TextSprite_setMaxFontHeight"><value name="this"><block type="variables_get"><field name="VAR" id="{7fTPg{rbtoIzFy-{u](">productPrice</field></block></value><value name="height"><shadow type="math_number"><field name="NUM">8</field></shadow></value><next><block type="Sprite_blockCombine_set"><field name="property">Sprite.right@set</field><value name="mySprite"><block type="variables_get"><field name="VAR" id="{7fTPg{rbtoIzFy-{u](">productPrice</field></block></value><value name="value"><shadow type="math_number"><field name="NUM">150</field></shadow></value><next><block type="Sprite_blockCombine_set"><field name="property">Sprite.y@set</field><value name="mySprite"><block type="variables_get"><field name="VAR" id="{7fTPg{rbtoIzFy-{u](">productPrice</field></block></value><value name="value"><shadow type="math_number"><field name="NUM">10</field></shadow><block type="math_arithmetic"><field name="OP">ADD</field><value name="A"><shadow type="math_number" disabled="true"><field name="NUM">10</field></shadow><block type="variables_get"><field name="VAR" id="-j|H!w~r)??OPXkI2=hr">shopTop</field></block></value><value name="B"><shadow type="math_number" disabled="true"><field name="NUM">0</field></shadow><block type="math_arithmetic"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" disabled="true"><field name="NUM">0</field></shadow><block type="variables_get"><field name="VAR" id="AiU=cR^8rnX,xNt[,rh,">index</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">10</field></shadow></value></block></value></block></value><next><block type="Sprite_blockCombine_set"><field name="property">Sprite.z</field><value name="mySprite"><block type="variables_get"><field name="VAR" id="{7fTPg{rbtoIzFy-{u](">productPrice</field></block></value><value name="value"><shadow type="math_number"><field name="NUM">5</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><next><block type="variables_set"><field name="VAR" id="N%RcjJlE*|wIKGh-6GT5">selectionBackground</field><value name="VALUE"><shadow xmlns="http://www.w3.org/1999/xhtml" type="math_number"><field name="NUM">0</field></shadow><block type="spritescreate"><value name="img"><shadow type="screen_image_picker"><field name="img">img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`</field></shadow><block type="image_create"><value name="width"><shadow type="math_number"><field name="NUM">144</field></shadow></value><value name="height"><shadow type="math_number"><field name="NUM">12</field></shadow></value></block></value><value name="kind"><shadow type="spritekind"><field name="MEMBER">Text</field></shadow></value></block></value><next><block type="Image_fill"><value name="picture"><block type="spriteimage"><value name="sprite"><block type="variables_get"><field name="VAR" id="N%RcjJlE*|wIKGh-6GT5">selectionBackground</field></block></value></block></value><value name="c"><shadow type="colorindexpicker"><field name="index">5</field></shadow></value><next><block type="function_call"><mutation name="positionSelection" functionid=",;lw,sep9Wd}p@|9@zlR"/></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="keyonevent" x="2160" y="1220"><field name="button">controller.up</field><field name="event">ControllerButtonEvent.Pressed</field><statement name="HANDLER"><block type="controls_if"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="variables_get"><field name="VAR" id="8iCcI:dv=/0/(LHP2gZs">shopIsOpen</field></block></value><statement name="DO0"><block type="variables_set"><field name="VAR" id="s$L!@ymB6tLDMOMkJ^z}">shopSelection</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_modulo"><value name="DIVIDEND"><shadow type="math_number" disabled="true"><field name="NUM">0</field></shadow><block type="math_arithmetic"><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get"><field name="VAR" id="s$L!@ymB6tLDMOMkJ^z}">shopSelection</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">1</field></shadow><block type="math_arithmetic"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" disabled="true"><field name="NUM">0</field></shadow><block type="lists_length"><value name="VALUE"><block type="variables_get"><field name="VAR" id="Cf3,cfn@E4(;#ONE@`nB">products</field></block></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block></value></block></value><value name="DIVISOR"><shadow type="math_number"><field name="NUM">1</field></shadow><block type="lists_length"><value name="VALUE"><block type="variables_get"><field name="VAR" id="Cf3,cfn@E4(;#ONE@`nB">products</field></block></value></block></value></block></value><next><block type="function_call"><mutation name="positionSelection" functionid=",;lw,sep9Wd}p@|9@zlR"/></block></next></block></statement></block></statement></block><block type="keyonevent" x="2195" y="1689"><field name="button">controller.down</field><field name="event">ControllerButtonEvent.Pressed</field><statement name="HANDLER"><block type="controls_if"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="variables_get"><field name="VAR" id="8iCcI:dv=/0/(LHP2gZs">shopIsOpen</field></block></value><statement name="DO0"><block type="variables_set"><field name="VAR" id="s$L!@ymB6tLDMOMkJ^z}">shopSelection</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_modulo"><value name="DIVIDEND"><shadow type="math_number" disabled="true"><field name="NUM">0</field></shadow><block type="math_arithmetic"><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get"><field name="VAR" id="s$L!@ymB6tLDMOMkJ^z}">shopSelection</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block></value><value name="DIVISOR"><shadow type="math_number"><field name="NUM">1</field></shadow><block type="lists_length"><value name="VALUE"><block type="variables_get"><field name="VAR" id="Cf3,cfn@E4(;#ONE@`nB">products</field></block></value></block></value></block></value><next><block type="function_call"><mutation name="positionSelection" functionid=",;lw,sep9Wd}p@|9@zlR"/></block></next></block></statement></block></statement></block><block type="function_definition" x="2070" y="2146"><mutation name="closeShop" functionid="m6`1~N0IiZC]jyskC`X:"/><field name="function_name">closeShop</field><statement name="STACK"><block type="pxt_controls_for_of"><value name="VAR"><shadow type="variables_get_reporter"><field name="VAR" id="pE2ui3@}IaZ)-!TC/)l^">value</field></shadow></value><value name="LIST"><shadow type="variables_get"><field name="VAR" id="vnK[pd~Ea0pmKl=o@6~T">list</field></shadow><block type="allOfKind"><value name="kind"><shadow type="spritekind"><field name="MEMBER">Text</field></shadow></value></block></value><statement name="DO"><block type="spritedestroy"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="false"></mutation><value name="sprite"><block type="variables_get"><field name="VAR" id="pE2ui3@}IaZ)-!TC/)l^">value</field></block></value></block></statement><next><block type="variables_set"><field name="VAR" id="8iCcI:dv=/0/(LHP2gZs">shopIsOpen</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_boolean"><field name="BOOL">FALSE</field></block></value><next><block type="function_call"><mutation name="showHideHats" functionid="O,}l!YH1ATK0NYBO+%TY"><arg name="show" id="bxuVwShCmMV2S?*2{zv`" type="boolean"/></mutation><value name="bxuVwShCmMV2S?*2{zv`"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow></value><next><block type="tilemap_editor"><field name="tilemap">tiles.createTilemap(
            hex`0b00080000000000000000000000000000000000000000000000000201010101010104000000000000000000000500000008010101010101060000000500000000000000000000070101010101010101030000000000000000000000`,
            img`
2 2 2 2 2 2 2 2 2 2 2 
2 2 2 2 2 2 2 2 2 2 2 
2 . . . . . . . . 2 2 
2 2 2 2 2 2 2 2 . 2 2 
2 . . . . . . . . 2 2 
2 . 2 2 2 2 2 2 2 2 2 
2 . . . . . . . . . . 
2 2 2 2 2 2 2 2 2 2 2 
`,
            [myTiles.tile0,myTiles.tile1,myTiles.tile2,myTiles.tile3,myTiles.tile4,myTiles.tile5,myTiles.tile6,myTiles.tile7,myTiles.tile8],
            TileScale.Sixteen
        )</field></block></next></block></next></block></next></block></statement></block><block type="function_definition" x="790" y="2406"><mutation name="positionSelection" functionid=",;lw,sep9Wd}p@|9@zlR"/><field name="function_name">positionSelection</field><statement name="STACK"><block type="controls_if"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="variables_get"><field name="VAR" id="8iCcI:dv=/0/(LHP2gZs">shopIsOpen</field></block></value><statement name="DO0"><block type="Sprite_blockCombine_set"><field name="property">Sprite.y@set</field><value name="mySprite"><block type="variables_get"><field name="VAR" id="N%RcjJlE*|wIKGh-6GT5">selectionBackground</field></block></value><value name="value"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic"><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">9</field></shadow><block type="math_arithmetic"><field name="OP">MINUS</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get"><field name="VAR" id="-j|H!w~r)??OPXkI2=hr">shopTop</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" disabled="true"><field name="NUM">0</field></shadow><block type="variables_get"><field name="VAR" id="s$L!@ymB6tLDMOMkJ^z}">shopSelection</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">10</field></shadow></value></block></value></block></value></block></statement></block></statement></block><block type="function_definition" x="480" y="2700"><mutation name="buyProduct" functionid="f|c^XxV);h9M#nm9,`?Y"/><field name="function_name">buyProduct</field><statement name="STACK"><block type="controls_if"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare"><field name="OP">GTE</field><value name="A"><shadow type="math_number" disabled="true"><field name="NUM">0</field></shadow><block type="hudScore"/></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get"><value name="LIST"><block type="variables_get"><field name="VAR" id="|dg803T,OG_nvSfFVGV|">productPrices</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get"><field name="VAR" id="s$L!@ymB6tLDMOMkJ^z}">shopSelection</field></block></value></block></value></block></value><statement name="DO0"><block type="hudChangeScoreBy"><value name="value"><shadow type="math_number"><field name="NUM">1</field></shadow><block type="math_arithmetic"><field name="OP">MINUS</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get"><value name="LIST"><block type="variables_get"><field name="VAR" id="|dg803T,OG_nvSfFVGV|">productPrices</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get"><field name="VAR" id="s$L!@ymB6tLDMOMkJ^z}">shopSelection</field></block></value></block></value></block></value><next><block type="lists_index_set"><value name="LIST"><block type="variables_get"><field name="VAR" id="2xzND*WP?3(Lqp@EvJcm">productQuantities</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get"><field name="VAR" id="s$L!@ymB6tLDMOMkJ^z}">shopSelection</field></block></value><value name="VALUE"><block type="math_arithmetic"><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get"><value name="LIST"><block type="variables_get"><field name="VAR" id="2xzND*WP?3(Lqp@EvJcm">productQuantities</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get"><field name="VAR" id="s$L!@ymB6tLDMOMkJ^z}">shopSelection</field></block></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block></value><next><block type="function_call"><mutation name="createLabels" functionid="9fOmph[yR5Vf%b05AfTo"/></block></next></block></next></block></statement></block></statement></block><block type="keyonevent" x="1800" y="2660"><field name="button">controller.A</field><field name="event">ControllerButtonEvent.Pressed</field><statement name="HANDLER"><block type="controls_if"><mutation else="1"/><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="variables_get"><field name="VAR" id="8iCcI:dv=/0/(LHP2gZs">shopIsOpen</field></block></value><statement name="DO0"><block type="function_call"><mutation name="buyProduct" functionid="f|c^XxV);h9M#nm9,`?Y"/></block></statement><statement name="ELSE"><block type="function_call"><mutation name="addPoint" functionid="#y^{ABEHrV0P5~x|*66."><arg name="pt" id="o}Q6P?w-$V)$S#6*r~hX" type="number"/><arg name="source" id="%wS1fk/v@O}EiHvA?*=E" type="number"/></mutation><value name="o}Q6P?w-$V)$S#6*r~hX"><shadow type="math_number"><field name="NUM">1</field></shadow></value><value name="%wS1fk/v@O}EiHvA?*=E"><shadow type="math_number"><field name="NUM">0</field></shadow></value></block></statement></block></statement></block><block type="keyonevent" x="2380" y="2660"><field name="button">controller.B</field><field name="event">ControllerButtonEvent.Pressed</field><statement name="HANDLER"><block type="controls_if"><mutation else="1"/><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="variables_get"><field name="VAR" id="8iCcI:dv=/0/(LHP2gZs">shopIsOpen</field></block></value><statement name="DO0"><block type="function_call"><mutation name="closeShop" functionid="m6`1~N0IiZC]jyskC`X:"/></block></statement><statement name="ELSE"><block type="function_call"><mutation name="openShop" functionid="n{@I~ZQ9]I6+R=H]CH/#"/></block></statement></block></statement></block><block type="function_definition" x="2820" y="3040"><mutation name="addPoint" functionid="#y^{ABEHrV0P5~x|*66."><arg name="pt" id="o}Q6P?w-$V)$S#6*r~hX" type="number"/><arg name="source" id="%wS1fk/v@O}EiHvA?*=E" type="number"/></mutation><field name="function_name">addPoint</field><value name="o}Q6P?w-$V)$S#6*r~hX"><shadow type="argument_reporter_number"><field name="VALUE">pt</field></shadow></value><value name="%wS1fk/v@O}EiHvA?*=E"><shadow type="argument_reporter_number"><field name="VALUE">source</field></shadow></value><statement name="STACK"><block type="controls_if"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_negate"><value name="BOOL"><block type="variables_get"><field name="VAR" id="8iCcI:dv=/0/(LHP2gZs">shopIsOpen</field></block></value></block></value><statement name="DO0"><block type="hudChangeScoreBy"><value name="value"><shadow type="math_number"><field name="NUM">5</field></shadow><block type="argument_reporter_number"><field name="VALUE">pt</field></block></value><next><block type="StatusBarSprite_blockCombine_change"><field name="property">StatusBarSprite.value@set</field><value name="statusbar"><block type="variables_get"><field name="VAR" id="$gjgKL~(@go(Q!z(VkoQ">statusbar</field></block></value><value name="value"><shadow type="math_number"><field name="NUM">5</field></shadow><block type="argument_reporter_number"><field name="VALUE">pt</field></block></value><next><block type="controls_if"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare"><field name="OP">EQ</field><value name="A"><shadow type="math_number" disabled="true"><field name="NUM">0</field></shadow><block type="StatusBarSprite_blockCombine_get"><field name="property">StatusBarSprite.value</field><value name="statusbar"><block type="variables_get"><field name="VAR" id="$gjgKL~(@go(Q!z(VkoQ">statusbar</field></block></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">100</field></shadow></value></block></value><statement name="DO0"><block type="function_call"><mutation name="buildHat" functionid="373lTIHW8|m)KX3Bc:^/"><arg name="creator" id="Vx!d.?C0xOc)uQKC!z.X" type="number"/></mutation><value name="Vx!d.?C0xOc)uQKC!z.X"><shadow type="math_number"><field name="NUM">1</field></shadow><block type="argument_reporter_number"><field name="VALUE">source</field></block></value></block></statement></block></next></block></next></block></statement></block></statement></block><block type="function_definition" x="1180" y="3140"><mutation name="buildHat" functionid="373lTIHW8|m)KX3Bc:^/"><arg name="creator" id="Vx!d.?C0xOc)uQKC!z.X" type="number"/></mutation><field name="function_name">buildHat</field><value name="Vx!d.?C0xOc)uQKC!z.X"><shadow type="argument_reporter_number"><field name="VALUE">creator</field></shadow></value><statement name="STACK"><block type="StatusBarSprite_blockCombine_set"><field name="property">StatusBarSprite.value@set</field><value name="statusbar"><block type="variables_get"><field name="VAR" id="$gjgKL~(@go(Q!z(VkoQ">statusbar</field></block></value><value name="value"><shadow type="math_number"><field name="NUM">0</field></shadow></value><next><block type="variables_set"><field name="VAR" id="jVnSFjIjkE/[ENt43[ub">newHat</field><value name="VALUE"><shadow xmlns="http://www.w3.org/1999/xhtml" type="math_number"><field name="NUM">0</field></shadow><block type="spritescreate"><value name="img"><shadow type="screen_image_picker"><field name="img">img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`</field></shadow><block type="lists_index_get"><value name="LIST"><block type="variables_get"><field name="VAR" id="vnK[pd~Ea0pmKl=o@6~T">list</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number"><field name="VALUE">creator</field></block></value></block></value><value name="kind"><shadow type="spritekind"><field name="MEMBER">Hat</field></shadow></value></block></value><next><block type="mapplaceonrandomtile"><value name="sprite"><block type="variables_get"><field name="VAR" id="jVnSFjIjkE/[ENt43[ub">newHat</field></block></value><value name="tile"><shadow type="tileset_tile_picker"><field name="tile">myTiles.tile2</field></shadow></value><next><block type="scene_followPath"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="1" _input_init="true"></mutation><value name="sprite"><block type="variables_get"><field name="VAR" id="jVnSFjIjkE/[ENt43[ub">newHat</field></block></value><value name="path"><block type="variables_get"><field name="VAR" id="I9{]kQ-ePv/?pF|q.0~k">hatPath</field></block></value><value name="speed"><shadow type="math_number"><field name="NUM">30</field></shadow></value><next><block type="spritesetsetflag"><field name="flag">SpriteFlag.AutoDestroy</field><value name="sprite"><block type="variables_get"><field name="VAR" id="jVnSFjIjkE/[ENt43[ub">newHat</field></block></value><value name="on"><shadow type="toggleOnOff"><field name="on">true</field></shadow></value></block></next></block></next></block></next></block></next></block></statement></block><block type="gameinterval" x="2140" y="3240"><value name="period"><shadow type="timePicker"><field name="ms">5000</field></shadow></value><statement name="HANDLER"><block type="controls_repeat_ext"><value name="TIMES"><shadow type="math_whole_number"><field name="NUM">4</field></shadow><block type="lists_index_get"><value name="LIST"><block type="variables_get"><field name="VAR" id="2xzND*WP?3(Lqp@EvJcm">productQuantities</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow></value></block></value><statement name="DO"><block type="function_call"><mutation name="addPoint" functionid="#y^{ABEHrV0P5~x|*66."><arg name="pt" id="o}Q6P?w-$V)$S#6*r~hX" type="number"/><arg name="source" id="%wS1fk/v@O}EiHvA?*=E" type="number"/></mutation><value name="o}Q6P?w-$V)$S#6*r~hX"><shadow type="math_number"><field name="NUM">1</field></shadow></value><value name="%wS1fk/v@O}EiHvA?*=E"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block></statement></block></statement></block><block type="gameinterval" x="2140" y="3500"><value name="period"><shadow type="timePicker"><field name="ms">1000</field></shadow></value><statement name="HANDLER"><block type="controls_repeat_ext"><value name="TIMES"><shadow type="math_whole_number"><field name="NUM">4</field></shadow><block type="lists_index_get"><value name="LIST"><block type="variables_get"><field name="VAR" id="2xzND*WP?3(Lqp@EvJcm">productQuantities</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block></value><statement name="DO"><block type="function_call"><mutation name="addPoint" functionid="#y^{ABEHrV0P5~x|*66."><arg name="pt" id="o}Q6P?w-$V)$S#6*r~hX" type="number"/><arg name="source" id="%wS1fk/v@O}EiHvA?*=E" type="number"/></mutation><value name="o}Q6P?w-$V)$S#6*r~hX"><shadow type="math_number"><field name="NUM">1</field></shadow></value><value name="%wS1fk/v@O}EiHvA?*=E"><shadow type="math_number"><field name="NUM">2</field></shadow></value></block></statement></block></statement></block><block type="spritesetpos" disabled="true" x="1210" y="3630"><value name="sprite"><block type="variables_get"><field name="VAR" id="jVnSFjIjkE/[ENt43[ub">newHat</field></block></value><value name="x"><shadow type="positionPicker"><field name="index">0</field></shadow><block type="variables_get"><field name="VAR" id="f5)qL/LxnmW_WJF:tQiq">lastHatX</field></block></value><value name="y"><shadow type="positionPicker"><field name="index">0</field></shadow><block type="variables_get"><field name="VAR" id="J{{26|i:?V/$*x~,x+dM">lastHatY</field></block></value><next><block type="variables_change" disabled="true"><field name="VAR" id="f5)qL/LxnmW_WJF:tQiq">lastHatX</field><value name="VALUE"><shadow type="math_number"><field name="NUM">1</field></shadow><block type="math_arithmetic"><field name="OP">ADD</field><value name="A"><shadow type="math_number" disabled="true"><field name="NUM">0</field></shadow><block type="Sprite_blockCombine_get"><field name="property">Sprite.width</field><value name="mySprite"><block type="variables_get"><field name="VAR" id="jVnSFjIjkE/[ENt43[ub">newHat</field></block></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">2</field></shadow></value></block></value><next><block type="controls_if" disabled="true"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare"><field name="OP">GTE</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get"><field name="VAR" id="f5)qL/LxnmW_WJF:tQiq">lastHatX</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">150</field></shadow></value></block></value><statement name="DO0"><block type="variables_set"><field name="VAR" id="f5)qL/LxnmW_WJF:tQiq">lastHatX</field><value name="VALUE"><shadow type="math_number"><field name="NUM">10</field></shadow></value><next><block type="variables_change"><field name="VAR" id="J{{26|i:?V/$*x~,x+dM">lastHatY</field><value name="VALUE"><shadow type="math_number"><field name="NUM">16</field></shadow></value></block></next></block></statement></block></next></block></next></block><block type="gameinterval" x="2130" y="3770"><value name="period"><shadow type="timePicker"><field name="ms">500</field></shadow></value><statement name="HANDLER"><block type="controls_repeat_ext"><value name="TIMES"><shadow type="math_whole_number"><field name="NUM">4</field></shadow><block type="lists_index_get"><value name="LIST"><block type="variables_get"><field name="VAR" id="2xzND*WP?3(Lqp@EvJcm">productQuantities</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">2</field></shadow></value></block></value><statement name="DO"><block type="function_call"><mutation name="addPoint" functionid="#y^{ABEHrV0P5~x|*66."><arg name="pt" id="o}Q6P?w-$V)$S#6*r~hX" type="number"/><arg name="source" id="%wS1fk/v@O}EiHvA?*=E" type="number"/></mutation><value name="o}Q6P?w-$V)$S#6*r~hX"><shadow type="math_number"><field name="NUM">1</field></shadow></value><value name="%wS1fk/v@O}EiHvA?*=E"><shadow type="math_number"><field name="NUM">3</field></shadow></value></block></statement></block></statement></block></xml>